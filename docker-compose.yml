version: "3.8"

services:
  mediaflow:
    build: https://github.com/mhdzumair/mediaflow-proxy.git#main
    image: mediaflow-proxy:latest
    container_name: mediaflow
    restart: unless-stopped
    ports:
      - "8888:8888"            # esterna 8888 â†’ interna 8888
    environment:
      API_PASSWORD: "2323gio"          # password per OMG
      M3U8_CONTENT_ROUTING: "mediaflow"
      ENABLE_STREAMING_PROGRESS: "false"
      DISABLE_HEALTHCHECK: "true"      # disattiva health check che ti dava proxy non valido
      FORWARDED_ALLOW_IPS: "127.0.0.1,192.168.1.41"
      # Se preferisci, al posto dell'IP puoi mettere la subnet docker:
      # FORWARDED_ALLOW_IPS: "127.0.0.1,172.18.0.0/16"


